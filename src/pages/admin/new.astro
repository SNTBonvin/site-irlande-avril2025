---
import Layout from "../../layouts/Layout.astro";
---

<Layout>
  <section class="max-w-3xl mx-auto py-8">
    <h1 class="text-3xl font-bold mb-6">➕ Créer un nouvel article</h1>
    <form method="POST" action="/admin/new-post" enctype="multipart/form-data" class="space-y-6">
      <div>
        <label class="block font-medium">Titre :</label>
        <input name="title" required class="w-full border px-4 py-2 rounded" />
      </div>

      <div>
        <label class="block font-medium">Date :</label>
        <input name="pubDate" type="date" required class="w-full border px-4 py-2 rounded" />
      </div>

      <div>
        <label class="block font-medium mb-1">Image de couverture (lien ou fichier) :</label>
        <input name="cover" placeholder="Lien d’image (URL)" class="w-full border px-4 py-2 rounded mb-3" />

        <p class="text-sm text-gray-500 mb-2">ou téléversez une image :</p>

        <label class="inline-block bg-[#169B62] text-white px-6 py-2 rounded cursor-pointer hover:bg-green-700 transition">
          📁 Choisir une image
          <input
            type="file"
            name="coverFile"
            accept="image/*"
            class="hidden"
            onchange="document.getElementById('file-name').textContent = this.files[0]?.name || ''"
          />
        </label>
        <span id="file-name" class="ml-3 text-sm text-gray-700"></span>
      </div>

      <div>
        <label class="block font-medium">Lien album :</label>
        <input name="album" class="w-full border px-4 py-2 rounded" />
      </div>

      <div>
        <label class="block font-medium">Contenu (Markdown) :</label>
        <textarea name="body" rows="10" class="w-full border px-4 py-2 rounded"></textarea>
      </div>

      <button
        type="submit"
        class="bg-[#169B62] text-white px-6 py-2 rounded hover:bg-green-700 transition"
      >
        ✅ Publier
      </button>
    </form>
  </section>
</Layout>
