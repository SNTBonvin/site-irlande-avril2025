---
import { getCollection, getEntryBySlug } from "astro:content";
import Layout from "../../layouts/Layout.astro";

// Astro te demande ici la liste des slugs Ã  gÃ©nÃ©rer
export async function getStaticPaths() {
  const articles = await getCollection("articles");

  return articles.map((article) => ({
    params: { slug: article.slug },
    props: { article },
  }));
}

// On rÃ©cupÃ¨re lâ€™article depuis les props
const { article } = Astro.props;
---


<Layout>
  <article class="prose prose-lg max-w-3xl mx-auto dark:prose-invert">
    <h1>{article.data.title}</h1>
    <p class="text-sm text-gray-500 mb-4">ðŸ“… {article.data.pubDate}</p>
    {article.data.cover && (
      <img src={article.data.cover} alt={article.data.title} class="rounded-xl my-4" />
    )}
    <div innerHTML={article.body} />
  </article>
</Layout>
